(this["webpackJsonpcrud-notes-jamstack"]=this["webpackJsonpcrud-notes-jamstack"]||[]).push([[0],{23:function(e,t,n){},42:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(2),i=n.n(c),r=n(18),o=n.n(r),u=(n(23),n(5)),a=n(4),s=n.n(a),l=n(7),j=n(6),b=n.n(j),d=function(){var e=Object(l.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.post("/.functions/createNote",t).then((function(e){console.log("this is the response",e),n()})).catch((function(e){return console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(s.a.mark((function e(t,n,c){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("/.functions/updateNote",{id:n,data:t}).then((function(e){console.log("this is the update note response:",e),c()})).catch((function(e){return console.log("There was an error updating your note. Please try again.")}));case 2:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("/.functions/deleteNote",{id:t}).then((function(e){console.log("this is the response:",e),n()})).catch((function(e){return console.log("Could not delete note:",e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=(n(42),n(3)),p=function(e){var t=Object(c.useState)(e),n=Object(u.a)(t,2),i=n[0],r=n[1];return{value:i,setValue:r,bind:{onChange:function(e){r(e.target.value)},value:i},reset:function(){r(e)}}},x=n(0),v=function(e){var t=e.noteData,n=e.onDelete,i=t.title,r=t.description,o=t.dueDate,a=t.id,s=Object(c.useState)(!1),l=Object(u.a)(s,2),j=l[0],b=l[1],d=p(i),h=p(r),v=p(o),g=function(e){e.preventDefault();var t={title:d.value,description:h.value,dueDate:v.value};f(t,a,(function(){D()}))},D=function(){b(!j)};return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("li",{children:j?Object(x.jsxs)("div",{children:[Object(x.jsxs)("form",{onSubmit:g,children:[Object(x.jsxs)("label",{children:["Title",Object(x.jsx)("input",Object(O.a)({type:"text",defaultValue:i},d.bind))]}),Object(x.jsxs)("label",{children:["Description",Object(x.jsx)("input",Object(O.a)({type:"text",defaultValue:r},h.bind))]}),Object(x.jsxs)("label",{children:["Due Date",Object(x.jsx)("input",Object(O.a)({type:"date",defaultValue:o},v.bind))]})]}),Object(x.jsx)("button",{onClick:g,children:"Save"}),Object(x.jsx)("button",{onClick:D,children:"Cancel"})]}):Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{children:i}),Object(x.jsx)("p",{children:r}),Object(x.jsx)("p",{children:o}),Object(x.jsx)("button",{onClick:function(){return n(t)},children:"Delete"}),Object(x.jsx)("button",{onClick:D,children:"Edit"})]})})})},g=function(){var e=p(""),t=p(""),n=p("");return Object(x.jsxs)("form",{onSubmit:function(c){c.preventDefault();var i={title:e.value,description:t.value,dueDate:n.value};d(i,(function(){[e,t,n].forEach((function(e){return e.reset()}))}))},children:[Object(x.jsxs)("label",{children:["Title",Object(x.jsx)("input",Object(O.a)({type:"text"},e.bind))]}),Object(x.jsxs)("label",{children:["Description",Object(x.jsx)("input",Object(O.a)({type:"text"},t.bind))]}),Object(x.jsxs)("label",{children:["Set Due Date",Object(x.jsx)("input",Object(O.a)({type:"date"},n.bind))]}),Object(x.jsx)("button",{children:"Submit Note"})]})};var D=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],i=t[1];Object(c.useEffect)((function(){var e;e=function(e){i(e)},b.a.get("/.functions/getNotes").then((function(t){var n=t.data;return e(n.notes)}))}),[]);var r=function(e){var t=e.id;h(t,(function(){return i(n.filter((function(e){return e.id!==t})))}))};return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"My Notes!"}),Object(x.jsx)("h2",{children:"Back off!"}),Object(x.jsx)("h2",{children:"V2"}),Object(x.jsx)("div",{id:"new-note-form",children:Object(x.jsx)(g,{})}),Object(x.jsx)("ul",{children:n.map((function(e){return Object(x.jsx)(v,{noteData:e,onDelete:r},e.id)}))})]})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),i(e),r(e),o(e)}))};n(44).config(),o.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(D,{})}),document.getElementById("root")),m()}},[[47,1,2]]]);
//# sourceMappingURL=main.517fb616.chunk.js.map